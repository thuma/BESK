<h1 class="text-center">Kodstugor</h1>
<table class="table" v-if="edit==''">
  <thead>
    <tr>
      <th scope="col">Namn</th>
      <th scope="col">SMS n칛rvarofr친ga</th>
      <th scope="col">E-Post n칛rvarofr친ga 칛mne</th>
      <th scope="col">E-post n칛rvarofr친ga meddelande</th>
      <th scope="col">Redigera</th>
    </tr>
  </thead>
  <tbody>
    <tr v-for="kodstuga in kodstugor">
        <td>{{kodstuga.namn}}</td>
        <td>{{kodstuga.sms_text}}</td>
        <td>{{kodstuga.epost_rubrik}}</td>
        <td>{{kodstuga.epost_text}}</td>
        <td><button class="btn outline-btn-primary"
            v-on:click="edit={'type':'kodstuga','data':kodstuga}">游둙</button>
        </td>
    </tr>
  </tbody>
</table>
<button 
    class="btn btn-primary"
    v-if="edit==''"
    v-on:click="edit={'type':'kodstuga','data':{'id':'','namn':'','sms_text':'','epost_rubrik':'','epost_text':''}}"
    >
    Skapa ny
</button>
<div v-if="edit.type=='kodstuga'" class="card">
    <div class="card-body">
        <form method="post" @submit="check_send" action="/api/kodstugor">
            <input name="id" v-if="edit.data.id!==''"v-bind:value="edit.data.id" type="hidden">
            <div class="form-group">
                <label>Namn p친 kodstuga</label>
                <input
                    name="namn"
                    v-bind:value="edit.data.namn"
                    type="text"
                    required=""
                    class="form-control">
            </div>
            <div class="form-group">
                <label>SMS meddelande</label>
                <textarea
                    name="sms_text"
                    v-bind:value="edit.data.sms_text"
                    required=""
                    class="form-control"></textarea>
                Meddelandet skickas dagen f칬re Kodstugan.
                Ett exempel p친 ett meddelande:
                <pre>Hej!
    Kommer %namn% till kodstugan p친 tisdag?
    Svara ja eller nej p친 detta SMS.

    Mvh
    Kodcenturm</pre>
            </div>
            <div class="form-group">
                <label>E-post 칛mne</label>
                <input 
                    name="epost_rubrik"
                    v-bind:value="edit.data.epost_rubrik"
                    type="text"
                    required=""
                    class="form-control">
            </div>
            <div class="form-group">
                <label>E-Post meddelande</label>
                <textarea
                    name="epost_text"
                    v-bind:value="edit.data.epost_text"
                    required=""
                    class="form-control"></textarea>
                E-posten skickas tv친 dagar f칬re Kodstugan.
                Ett exempel p친 e-post meddelande:
                <pre>Hej!
    Kommer %namn% till kodstugan p친 tisdag?

    Svara ja genom att trycka p친 denna l칛nk: %jalink%
    Svara nej genom att trycka p친 denna l칛nk: %nejlink%

    Mvh
    Kodcenturm</pre>
            </div>
            <div class="form-group">
                <button v-if="edit.data.id==''" type="submit" class="btn btn-primary">Skapa ny</button>
                <button v-else="" type="submit" class="btn btn-primary">Spara</button>
                <button v-on:click="edit=''" type="button" class="btn btn-secondary">Avbryt</button>
            </div>
        </form>
    </div>
</div>